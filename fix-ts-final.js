const fs = require("fs"); const replaceFile = (file) => { let content = fs.readFileSync(file, "utf8"); content = content.replace(/const page = req\.query\.page \? Number\(req\.query\.page\) : page;/g, "const page = req.query.page ? Number(req.query.page) : undefined;"); content = content.replace(/const limit = req\.query\.limit \? Number\(req\.query\.limit\) : limit;/g, "const limit = req.query.limit ? Number(req.query.limit) : undefined;"); fs.writeFileSync(file, content); console.log("Fixed " + file); }; replaceFile("src/controller/colorController.ts"); replaceFile("src/controller/sizeChartController.ts");
